import I from"./1SZqF1Nt.js";import{k as $,Q as p,$ as d,L as F,a2 as e,a5 as l,l as k,I as r,Z as M,u as o,a9 as i,a1 as N,M as j,U as L,c as V,F as G,G as D,ak as E,ay as H,az as J,a6 as S,R as O,an as Q}from"./DSZiQSDz.js";import{c as Z,_ as q,b as K,j as W}from"./a3x-3kU3.js";import{_ as X}from"./DoOsWbsk.js";import{u as Y}from"./BId2YHVf.js";import{B as ee}from"./BxZJWESW.js";import"./CtCjIXKm.js";const te=$({__name:"Stamp",props:{text:{}},setup(m){return(a,u)=>(d(),p("div",F({class:"stamp is-approved relative right-4 top-10 overflow-hidden rounded-xl px-4 py-2 text-lg font-bold !opacity-60"},a.$attrs),[e("span",null,l(a.text),1)],16))}}),se={class:"flex w-full flex-col text-gray-scale-900"},oe={class:"relative z-10 flex flex-col gap-6 rounded-t-xl bg-yellow-50 px-4 pb-2 pt-6"},le={class:"absolute right-0 top-0 z-50"},ae={class:"flex flex-col gap-4"},ne={class:"flex flex-col gap-2"},re={class:"flex items-center gap-1"},ie={class:"flex items-center gap-1"},de={class:"font-medium"},pe={class:"flex flex-col gap-6"},ue={class:"flex flex-col gap-2"},me={class:"break-words"},be={class:"font-medium"},fe={class:"font-medium"},ce={class:"font-medium"},xe={class:"font-medium"},ge={key:0,class:"flex flex-wrap gap-x-6 gap-y-2"},ve={class:"font-medium"},_e={class:"font-medium"},ye={class:"flex flex-col gap-2"},we={class:"flex items-center gap-1"},he={class:"flex items-center gap-1"},Ae={class:"flex items-center gap-1"},Se={class:"flex items-center gap-1"},ke={class:"z-10 flex w-full flex-col items-start gap-y-6 rounded-b-xl bg-yellow-50 pb-8"},Ce={class:"flex w-full items-center justify-center bg-yellow py-4"},Be={class:"font-semibold"},Pe=$({__name:"TicketSkeleton",props:{bet:{}},setup(m){const a=m,{$numberFormatHelper:u}=Z();function C(t){return t==="1"?"1º prêmio":t==="12"?"1º ao 2º prêmio":t==="123"?"1º ao 3º prêmio":t==="12345"?"1º ao 5º prêmio":t}function B(t){return t.charAt(0).toUpperCase()+t.slice(1)}function P(t){return t.replaceAll("_"," ")}function b(t){return typeof t=="string"?t:u({value:isNaN(t)?0:t})}const z=k(()=>{var t;return((t=a.bet)==null?void 0:t.totalUnitAmount)||a.bet.value}),f=k(()=>a.bet.status=="Aguardando sorteio"?{text:"Aguardando",class:"!text-yellow !border-yellow"}:a.bet.status=="Aposta perdida"?{text:"Perdeu",class:"!text-red !border-red"}:a.bet.status=="Aposta premiada"?{text:"Ganha",class:"!text-green-500 !border-green-500"}:a.bet.status=="Aposta premiada e temporariamente em análise"?{text:"Ganha",class:"!text-green-800 !border-green-800"}:a.bet.status=="Aposta rejeitada pelo sistema"?{text:"Cancelada",class:"!text-red-800 !border-red-800"}:a.bet.status=="Aposta cancelada"?{text:"Cancelada",class:"!text-red-800 !border-red-800"}:{text:"",class:"!hidden"});return(t,s)=>{var _,y,w,h,c,A,x,g,R;const v=te,n=I;return d(),p("div",se,[e("div",oe,[e("div",le,[r(v,{text:(_=o(f))==null?void 0:_.text,class:M((y=o(f))==null?void 0:y.class)},null,8,["text","class"])]),e("div",ae,[s[1]||(s[1]=e("span",{class:"text-bold text-xl text-blue-500"},"Bilhete",-1)),e("div",ne,[e("div",re,[r(n,{name:"material-symbols:calendar-today-outline-rounded",class:"text-xl text-blue-500"}),e("span",null,l((w=t.bet)==null?void 0:w.createdAt),1)]),e("div",ie,[r(n,{name:"material-symbols:play-arrow-outline-rounded",class:"text-xl text-blue-500"}),e("span",null,[s[0]||(s[0]=i(" Modalidade ")),e("span",de,l(`${(h=t.bet)!=null&&h.modality?P(B((c=t.bet)==null?void 0:c.modality)):""}`),1)])])])]),e("div",pe,[e("div",ue,[e("span",me,[s[2]||(s[2]=i(" Bilhete: ")),e("span",be,l((A=t.bet)==null?void 0:A.id),1)]),e("span",null,[s[3]||(s[3]=i(" Loteria: ")),e("span",fe,l(t.bet.lottery||((x=t.bet.lotteryCatalogSerialized)==null?void 0:x.name)||((g=t.bet.lotteryCatalog)==null?void 0:g.name)),1)]),e("span",null,[s[4]||(s[4]=i(" Posição: ")),e("span",ce,l(C((R=t.bet)==null?void 0:R.placing)),1)]),e("span",null,[s[5]||(s[5]=i(" Palpite: ")),e("span",xe,l(t.bet.game||(Array.isArray(t.bet.units)?t.bet.units.join(", "):t.bet.units)),1)]),t.bet.instantResult||t.bet.result?(d(),p("div",ge,[s[6]||(s[6]=e("span",null,"Resultado:",-1)),(d(!0),p(j,null,L((t.bet.instantResult?t.bet.instantResult:t.bet.result).places,(T,U)=>(d(),p("span",ve,[i(l(U+1)+"º ",1),e("span",_e,l(T),1)]))),256))])):N("",!0)]),e("div",ye,[e("div",we,[s[7]||(s[7]=e("span",null,"Total apostado",-1)),s[8]||(s[8]=e("div",{class:"flex-1 border-t border-dashed border-t-blue-500"},null,-1)),e("span",null,l(b(o(z))),1)]),e("div",he,[s[9]||(s[9]=e("span",null,"Prêmio mín. possível",-1)),s[10]||(s[10]=e("div",{class:"flex-1 border-t border-dashed border-t-blue-500"},null,-1)),e("span",null,l(typeof t.bet.minPrize=="string"?t.bet.minPrize:o(u)({value:t.bet.minPrize})),1)]),e("div",Ae,[s[11]||(s[11]=e("span",null,"Prêmio máx. possível",-1)),s[12]||(s[12]=e("div",{class:"flex-1 border-t border-dashed border-t-blue-500"},null,-1)),e("span",null,l(typeof t.bet.maxPrize=="string"?t.bet.maxPrize:o(u)({value:t.bet.maxPrize})),1)]),e("div",Se,[s[13]||(s[13]=e("span",null,"Total recebido",-1)),s[14]||(s[14]=e("div",{class:"flex-1 border-t border-dashed border-t-blue-500"},null,-1)),e("span",null,l(typeof t.bet.claim=="string"?t.bet.claim:o(u)({value:t.bet.claim})),1)])])])]),s[16]||(s[16]=e("div",{class:"z-10"},[e("div",{class:"box-b flex h-8 w-full items-center border-none bg-yellow-50"}),e("div",{class:"box-t flex-1 border-t border-dashed border-t-blue-500 bg-yellow-50"}),e("div",{class:"box-t flex h-8 w-full items-center bg-yellow-50"})],-1)),e("div",ke,[e("div",Ce,[e("span",Be,l(t.bet.status),1)]),s[15]||(s[15]=e("p",{class:"px-2 text-xs md:px-4"}," O prêmio máximo possível é um valor estimado. Para ganhá-lo, você precisa acertar todos os palpites em todas as colocações. ",-1))])])}}}),ze=q(Pe,[["__scopeId","data-v-d87dca45"]]),$e={key:0,class:"flex w-full max-w-[450px] flex-col gap-4 rounded-lg bg-transparent py-10"},Re={class:"flex w-min flex-nowrap items-center gap-2 self-center text-nowrap rounded-lg border border-[#16A34A] p-2 font-semibold uppercase text-[#16A34A]"},Ie={class:"w-full"},Ne={class:"grid grid-cols-2 gap-4 font-semibold"},je={key:1,class:"flex w-full items-center justify-center"},De=$({__name:"Ticket",props:{betSessionId:{}},setup(m){const a=K(),u=()=>{navigator&&navigator.share({title:"Ponto do Bicho",text:"Confira o seu bilhete",url:window.location.href})},C=W(),B=V(null),P=new ee,b=k(()=>C.bets.filter(v=>v.betSessionId===m.betSessionId)),{data:z,status:f,execute:t}=Y(`bet-session-${m.betSessionId}`,()=>P.getBetSession(m.betSessionId),{immediate:!1}),s=k(()=>b.value.length>0);return G(()=>{s.value||t()}),(v,n)=>{const _=I,y=ze,w=Q,h=E,c=X,A=D("AtomsLoading");return!o(s)&&o(f)==="success"||o(s)?(d(),p("div",$e,[e("div",Re,[r(_,{name:"i-fluent:checkmark-24-regular",size:24}),n[1]||(n[1]=i(" aposta confirmada "))]),e("div",Ie,[r(h,{ref_key:"swiperRef",ref:B,modules:[o(H),o(J)],effect:"cards",pagination:"",grabCursor:""},{default:S(()=>{var x;return[(d(!0),p(j,null,L(o(b).length?o(b):(x=o(z))==null?void 0:x.data,g=>(d(),O(w,{key:g.id},{default:S(()=>[r(y,{bet:g},null,8,["bet"])]),_:2},1024))),128))]}),_:1},8,["modules"])]),e("div",Ne,[r(c,{onClick:u,variant:"white",class:"border border-b-4 border-gray-scale-700"},{default:S(()=>n[2]||(n[2]=[i(" Compartilhar ")])),_:1}),r(c,{onClick:n[0]||(n[0]=()=>o(a).push("/jogo-do-bicho")),color:"yellow",class:"border border-b-4 border-yellow-900"},{default:S(()=>n[3]||(n[3]=[i(" Jogar novamente! ")])),_:1})])])):o(f)==="pending"?(d(),p("div",je,[r(A)])):N("",!0)}}});export{De as _,ze as a};
