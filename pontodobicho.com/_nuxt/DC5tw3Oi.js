var me=Object.defineProperty;var de=(p,n,i)=>n in p?me(p,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[n]=i;var Q=(p,n,i)=>de(p,typeof n!="symbol"?n+"":n,i);import{_ as pe}from"./zsan4xwN.js";import _e from"./1SZqF1Nt.js";import{_ as fe}from"./BRIGW63G.js";import{_ as ye}from"./DoOsWbsk.js";import{_ as ge}from"./O0eLau2T.js";import{_ as be}from"./Bh42oqGe.js";import{B as xe,b as ve,e as he,D as v,n as we}from"./a3x-3kU3.js";import{u as ke}from"./BId2YHVf.js";import{a as Be}from"./BmUQmrkO.js";import{k as Me,l as b,c as W,ai as Ne,G as Re,Q as c,$ as r,a2 as t,I as f,a6 as d,u as s,A as Ae,a9 as De,a1 as Se,M as Pe,U as $e,R as Ce,a5 as y,Z as Fe}from"./DSZiQSDz.js";const Ge=[{id:3,name:"Bahia",code:"BA"},{id:4,name:"Goiás",code:"GO"},{id:5,name:"Distrito Federal",code:"DF"},{id:2,name:"São Paulo",code:"SP"},{id:1,name:"Rio de Janeiro",code:"RJ"},{id:6,name:"Minas Gerais",code:"MG"}];class Ve extends xe{constructor(){super();Q(this,"resource",{results:"/bets/jb/results"})}async getResults(i){try{return await this.$api(this.resource.results,{method:"GET",query:i})}catch(h){throw console.log("Algo deu errado ao capturar os resultados do jogo do bicho",h),h}}}const Ie={class:"mx-auto mb-10 flex w-full max-w-[1158px] flex-col gap-8 px-0 py-6 lg:gap-12 lg:px-0"},Te={class:"px-2"},ze={class:"mx-auto flex w-full flex-col gap-4 rounded-lg bg-white py-0 lg:px-12"},Je={class:"mb-0 mt-6 flex w-full flex-col items-center gap-4 md:flex-row"},Ue={class:"w-full md:w-1/3"},Ze={class:"col-span-3 w-full"},je={key:0},Le={key:0,class:"grid grid-cols-1 gap-8 gap-x-8"},qe={class:"tabular-nums"},Ee={class:"tabular-nums"},Oe={class:"capitalize"},Qe={key:1},We={key:0,class:"text-lg font-semibold text-gray-scale-900"},He={key:1,class:"text-gray-scale-900"},Ke={key:1,class:"flex items-center justify-center"},Xe={key:2},Ye={key:3},ea={class:"text-lg font-semibold text-gray-scale-900"},da=Me({__name:"Results",async setup(p){let n,i;const h=new Ve;ve();const k=he(),B=b(()=>[{name:"Ponto do Bicho",code:"PO"},...Ge.sort((o,a)=>o.id-a.id),{name:"Federal",code:"BR"}]),H=b(()=>{var a;const{state:o}=k.params;return o?(a=B.value.find(g=>g.code===o.toUpperCase()||g.name.toLowerCase()===o.replaceAll("-"," ").toLowerCase()))==null?void 0:a.code:"RJ"}),{date:A}=k.params,K=A?v.fromFormat(A,"yyyy-MM-dd",{zone:"America/Sao_Paulo"}):X();function X(o=!1){return o?v.now().setZone("America/Sao_Paulo").toFormat("yyyy-MM-dd"):v.now().setZone("America/Sao_Paulo")}const m=W(H.value),u=W(K),Y=b(()=>u.value.toFormat("dd/MM/yyyy")),D=b(()=>{var o;return((o=B.value.find(({code:a})=>m.value===a))==null?void 0:o.name)||""}),ee=b(()=>k.params);function ae(){u&&m&&we(`/jogo-do-bicho/resultados/${m.value}/${u.value.toFormat("yyyy-MM-dd")}`)}const{data:M,status:x,refresh:oe}=([n,i]=Ne(async()=>ke("results",async()=>{const o=m.value,a=u.value.toFormat("yyyy-MM-dd");return await h.getResults({state:o,date:a})},{server:!0,immediate:!0,watch:[ee],deep:!0})),n=await n,i(),n);async function S(o){if(typeof o=="string")m.value=o;else{const a=v.fromJSDate(o,{zone:"America/Sao_Paulo"}).setZone("America/Sao_Paulo");u.value=a}ae()}const se=[{label:"Prêmio",key:"name"},{label:"Milhar",key:"value"},{label:"Grupo",key:"group"},{label:"Bicho",key:"animal"}],te=b(()=>!!M.value&&!!M.value.data.length);function N(o){return Number(o)<=9?`0${Number(o)}`:o}function l(o){return Be.find(a=>a.animalNumbers.some(g=>N(g)===o.slice(-2)))}return(o,a)=>{const g=pe,P=_e,le=Re("VueDatePicker"),ne=fe,re=ye,ce=ge,ie=be;return r(),c("section",Ie,[t("div",Te,[f(g,{class:"bg-[url(/banners/paginas/BG_resultados_mobile.webp)] bg-cover md:bg-[url(/banners/paginas/BG_resultados_desktop.webp)]"},{default:d(()=>a[1]||(a[1]=[t("div",{class:"flex w-full flex-col gap-2"},[t("h1",{class:"text-3xl font-bold text-blue"},"Resultados"),t("span",{class:"text-sm text-gray-scale-900"}," Acompanhe diariamente os principais resultados do Jogo do Bicho ")],-1)])),_:1})]),f(ie,null,{title:d(()=>[f(P,{name:"fluent:live-24-regular",class:"text-yellow",size:24}),a[2]||(a[2]=t("span",{class:"text-lg font-bold uppercase lg:text-xl"},"Resultados",-1))]),default:d(()=>{var w,$,C;return[t("div",ze,[t("div",Je,[t("div",Ue,[f(le,{"model-value":($=(w=s(u))==null?void 0:w.toJSDate)==null?void 0:$.call(w),"onUpdate:modelValue":S,light:"",locale:"pt-BR",format:"dd/MM/yyyy","max-date":s(v).now().setZone("America/Sao_Paulo").toJSDate(),"enable-time-picker":!1,"auto-apply":"",clearable:!1},null,8,["model-value","max-date"])]),f(ne,{modelValue:s(m),"onUpdate:modelValue":[a[0]||(a[0]=e=>Ae(m)?m.value=e:null),S],options:s(B).map(({name:e,code:R})=>({label:e,value:R})),title:"Selecione um estado",class:"w-full md:w-1/3"},null,8,["modelValue","options"]),f(re,{class:"w-full md:w-1/3",onClick:s(oe),disabled:s(x)==="pending"},{default:d(()=>a[3]||(a[3]=[De(" Buscar resultados ")])),_:1},8,["onClick","disabled"])]),a[5]||(a[5]=t("small",{class:"mb-6 block text-gray-800"},"* Todos os resultados seguem o horário de Brasília (GMT-3).",-1)),t("div",Ze,[s(x)==="success"?(r(),c("div",je,[s(te)?(r(),c("div",Le,[(r(!0),c(Pe,null,$e((C=s(M))==null?void 0:C.data,(e,R)=>{var F,G,V,I,T,z,J,U,Z,j,L,q,E,O;return r(),Ce(ce,{key:`${e.lotteryName}-${R}`,title:`${s(u).toFormat("dd/MM/yyyy")} - ${e.lotteryName}`,cols:se,items:[{name:"1°",value:e.places[0],group:(F=l(e.places[0]))==null?void 0:F.animalNumber,animal:(G=l(e.places[0]))==null?void 0:G.animalImage},{name:"2°",value:e.places[1],group:(V=l(e.places[1]))==null?void 0:V.animalNumber,animal:(I=l(e.places[1]))==null?void 0:I.animalImage},{name:"3°",value:e.places[2],group:(T=l(e.places[2]))==null?void 0:T.animalNumber,animal:(z=l(e.places[2]))==null?void 0:z.animalImage},{name:"4°",value:e.places[3],group:(J=l(e.places[3]))==null?void 0:J.animalNumber,animal:(U=l(e.places[3]))==null?void 0:U.animalImage},{name:"5°",value:e.places[4],group:(Z=l(e.places[4]))==null?void 0:Z.animalNumber,animal:(j=l(e.places[4]))==null?void 0:j.animalImage},{name:"6°",value:e.places[5],group:(L=l(e.places[5]))==null?void 0:L.animalNumber,animal:(q=l(e.places[5]))==null?void 0:q.animalImage},{name:"7°",value:e.places[6],group:(E=l(e.places[6]))==null?void 0:E.animalNumber,animal:(O=l(e.places[6]))==null?void 0:O.animalImage}]},{"name-data":d(({item:{name:_}})=>[t("span",qe,y(_),1)]),"value-data":d(({item:{value:_,name:ue}})=>[t("span",{class:Fe(["tabular-nums",{"pl-[9px]":ue==="7°"}])},y(N(_)),3)]),"group-data":d(({item:{group:_}})=>[t("span",Ee,y(N(_)),1)]),"animal-data":d(({item:_})=>[t("span",Oe,y(_.animal),1)]),_:2},1032,["title","items"])}),128))])):(r(),c("div",Qe,[s(u)?(r(),c("p",We," Não foram encontrados resultados para a data "+y(s(Y))+y(s(D)?` no estado ${s(D)}`:"")+". ",1)):(r(),c("p",He,"Selecione uma data e estado para pesquisar resultados"))]))])):s(x)==="pending"?(r(),c("div",Ke,[f(P,{size:20,name:"line-md:loading-loop",class:"m-auto text-yellow"})])):s(x)==="idle"?(r(),c("div",Xe,a[4]||(a[4]=[t("p",{class:"text-lg font-semibold text-gray-scale-900"},"Busque por uma data e um estado.",-1)]))):s(x)==="error"?(r(),c("div",Ye,[t("p",ea," Não foi possível encontrar resultados. "+y(s(u)),1)])):Se("",!0)])])]}),_:1})])}}});export{da as _};
