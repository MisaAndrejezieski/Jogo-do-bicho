import{_ as P}from"./DoOsWbsk.js";import{_ as j}from"./Bd2QKyF9.js";import{_ as E}from"./CSysSGPk.js";import{k as h,c as x,Q as _,$ as n,u as a,a2 as s,I as l,a5 as V,a6 as m,a9 as d,a3 as b,A,R as k}from"./DSZiQSDz.js";import{o as $,s as q,u as C,t as O,a as T}from"./gL7-F3v6.js";import{A as I}from"./fKaclN-_.js";import{s as R}from"./x_rD_Ya3.js";import{_ as L,u as N}from"./a3x-3kU3.js";import"./1SZqF1Nt.js";import"./OYiExnqA.js";const D={class:"flex h-full w-full flex-col items-center justify-center bg-white px-4 pb-14 pt-10"},M={key:0,class:"w-full max-w-md *:rounded-2xl"},H={class:"flex w-full flex-col gap-6"},Q={class:"w-full text-center text-sm"},U={class:"flex w-full flex-col items-center justify-center text-base"},z={key:1,class:"w-full max-w-md"},G={class:"flex w-full flex-col gap-6"},J={class:"flex w-full flex-col items-center justify-center text-base"},K=h({__name:"ForgotPassword",props:{page:{type:Boolean,required:!1,default:!0}},setup(g){const o=x(!1),t=x(25),u=$({email:q({message:"O campo email precisa ser uma palavra"}).email({message:"O email esta em um formato invalido!"}).min(1,"O email e um campo obrigatorio!")}),{handleSubmit:F,errors:v,resetForm:Z}=C({validationSchema:O(u)}),{value:c}=T("email"),i=x(!1),f=F(async r=>{i.value=!0,await new I().sendForgotPasswordEmail(r).then(e=>{o.value=e.type=="success",o.value&&S()}).finally(()=>{i.value=!1})});function S(){const r=R(()=>{t.value<=0?clearInterval(r):t.value-=1},1e3)}return(r,e)=>{const w=P,y=j,B=E;return n(),_("div",D,[a(o)?(n(),_("div",M,[s("div",H,[e[5]||(e[5]=s("div",{class:"flex flex-col gap-2"},[s("p",{class:"text-xl font-semibold leading-10 text-gray-900 md:text-3xl"},"E-mail enviado!"),s("span",{class:"text-gray-900"}," Verifique a caixa de entrada do seu e-mail e clique no link para redefinir sua senha. ")],-1)),s("div",Q,[s("span",null,"Reenviar código em "+V(a(t))+"s",1)]),l(w,{loading:a(i),"is-disabled":a(t)>0,onClick:b(a(f),["prevent"])},{default:m(()=>e[2]||(e[2]=[d(" Enviar novamente ")])),_:1},8,["loading","is-disabled","onClick"]),s("div",U,[e[4]||(e[4]=s("p",{class:"text-gray-900"},"Lembrou a senha?",-1)),l(y,{to:"/entrar",class:"text-yellow underline"},{default:m(()=>e[3]||(e[3]=[d("Faça login e volte ao jogo!")])),_:1})])])])):(n(),_("div",z,[s("div",G,[e[9]||(e[9]=s("div",{class:"flex flex-col gap-2"},[s("h1",{class:"text-3xl font-semibold leading-10 text-gray-900"},"Esqueceu sua senha?"),s("span",{class:"text-gray-900"}," Digite seu e-mail abaixo e enviaremos um link para você redefinir sua senha. ")],-1)),s("form",{onSubmit:e[1]||(e[1]=b((...p)=>a(f)&&a(f)(...p),["prevent"])),class:"flex w-full flex-col gap-4"},[l(B,{"error-message":a(v).email,autocomplete:"true",class:"w-full",modelValue:a(c),"onUpdate:modelValue":e[0]||(e[0]=p=>A(c)?c.value=p:null),placeholder:"Email",name:"email"},null,8,["error-message","modelValue"]),l(w,{class:"mt-2",loading:a(i),"is-disabled":!!Object.keys(a(v)).length,type:"submit"},{default:m(()=>e[6]||(e[6]=[d(" Enviar ")])),_:1},8,["loading","is-disabled"])],32),s("div",J,[e[8]||(e[8]=s("p",{class:"text-gray-900"},"Lembrou a senha?",-1)),l(y,{to:"/entrar",class:"text-yellow underline"},{default:m(()=>e[7]||(e[7]=[d("Faça login e volte ao jogo!")])),_:1})])])]))])}}}),W={};function X(g,o){const t=K;return n(),k(t)}const Y=L(W,[["render",X]]),de=h({__name:"esqueci-minha-senha",setup(g){return N({title:"Solicite a redefinição de sua senha",meta:[{name:"robots",content:"index"},{name:"description",content:"Solicite a redefinição de senha de sua conta na Ponto do Bicho."}]}),(o,t)=>{const u=Y;return n(),k(u)}}});export{de as default};
